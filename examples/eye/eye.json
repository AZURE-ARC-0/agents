{
  "gpt_nodes": {
    "node_judge_idle": {
      "name": "node_judge_idle",
      "node_type": "judge",
      "extract_word": "判断",
      "done": false,
      "judge_idle_node": true,
      "components": {
        "style": {
          "agent": "一个眼科医院的客服",
          "style": "专业"
        },
        "task": {
          "task": "判断用户是否问和眼科相关的问题"
        },
        "knowledge": null,
        "rule": {
          "rule": "根据用户的对话，分析其与之前对话的关系，判断其是否为闲聊，具体判断依据为，用户当前对话是否与眼科问题有关或者是否在回答你所提出的问题。\n具体表现为，用户问了眼科相关问题或者是在回答之前我们的提问，则判断为不是闲聊，输出<判断>否</判断>\n反之，如果用户当前聊天与眼科问题无关，或者并没有回复我们之前的提问，则判断为是闲聊，输出<判断>是</判断>"
        },
        "demonstration": {
          "demonstration": [
            "当用户说：帮我解一道代码题。\n此时输出 <判断>是</判断>\n\n\n            当用户说：我有干眼症。 此时输出<判断>否</判断>\n\n\n            当用户说：谢谢。\n此时输出 <判断>是</判断>\n\n\n            当用户说：我有个情感问题需要你帮忙解决。\n此时输出 <判断>是</判断>\n            当用户说：你好。\n此时输出 <判断>是</判断>\n            当用户说：好呀。\n如果之前我们有提问用户是否要来医院，用户回复好呀，那说明不是闲聊。此时输出 <判断>否</判断>\n         当用户说：不想去。\n如果之前我们有提问用户是否要来医院，用户回复不想去，那说明不是闲聊。此时输出 <判断>否</判断>\n            如果上下文和这个“不想去”无关，那么输出 <判断>是</判断>\n            当用户说：飞秒是什么、半飞秒是什么、ok镜是什么等与眼科有关的问题时，此时输出<判断>否</判断>\n            当用户说：我有干眼症。 此时输出<判断>否</判断>\n            当上文有预约卡或者建议客户可以抽空来做一个详细的术前检查时，需要特别关注上下文，用户是否是在表达自己的意愿，此时输出<判断>否</判断>。\n            你需要充分结合上下文，如果这句话和上下文有关，是在回答提问，那你一定要输出<判断>否</判断>\n            当用户说“是的，好的，嗯嗯，不想去，不想填”，那你一定要输出<判断>否</判断>\n            \n            "
          ]
        },
        "tool": null,
        "output": {
          "output": "判断"
        }
      }
    },
    "node_idle": {
      "name": "node_idle",
      "node_type": "response",
      "extract_word": "回复",
      "idle_response_node": true,
      "done": true,
      "components": {
        "style": {
          "agent": "一个眼科医院的客服，你的目标是以你的专业经验，回复用户的问题",
          "style": "幽默，善于随机应变，会引经据典"
        },
        "task": {
          "task": "回复用户的问题"
        },
        "knowledge": null,
        "rule": {
          "rule": "1. 要联系客户的所有对话，尤其是最近的对话，来回答用户的问题。\n2. 语言要幽默，要引经据典，不能重复对话，对话风格也不能太过单一。\n3.你的回复要包裹在<回复></回复>中"
        },
        "demonstration": null,
        "tool": null,
        "output": {
          "output": "回复"
        }
      }
    },
    "node_judge_intent": {
      "name": "node_judge_intent",
      "node_type": "judge",
      "extract_word": "意图",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "需要做的是判断用户目前是回答了你的问题还是在另外提问。"
        },
        "knowledge": null,
        "rule": {
          "rule": "根据用户的回答，分析其与之前对话的关系，判断其是否为回答你的问题，还是另外进行了提问。\n如果用户回答了你的问题并且同意了你的请求，输出<意图>1</意图>\n如果用户回答了你的问题但是拒绝了你的请求，输出<意图>2</意图>\n如果用户没有回答你的问题而且提出了新的问题，例如提出了新的问题：”我近视400度可以做手术吗?“ 等输出<意图>3</意图>\n你需要格外关注上下文,Assitant和user分别说了什么"
        },
        "demonstration": null,
        "input": true,
        "tool": null,
        "output": {
          "output": "意图"
        }
      }
    },
    "node_judge_intent_invite": {
      "name": "node_judge_intent_invite",
      "node_type": "judge",
      "extract_word": "意图",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "需要做的是判断用户目前是回答了你的问题还是在另外提问。如果是另外提问你需要返回<意图>3</意图>。"
        },
        "knowledge": null,
        "rule": {
          "rule": "根据用户的回答，分析其与之前对话的关系，判断其是否为回答你的问题，还是另外进行了提问。\n如果用户回答了你的问题并且同意了你的请求，输出<意图>1</意图>\n如果用户回答了你的问题但是拒绝了你的请求，输出<意图>2</意图>\n如果用户没有回答你的问题而且提出了新的问题\n例如提出了新的问题：”我近视400度可以做手术吗?“ 必须输出<意图>3</意图>\n例如提出了新的问题：”全飞秒半分秒的区别是什么“ 必须输出<意图>3</意图>\n你需要格外关注上下文,Assitant和user分别说了什么"
        },
        "demonstration": null,
        "input": true,
        "tool": null,
        "output": {
          "output": "意图"
        }
      }
    },
    "node_judge_intent_book_card": {
      "name": "node_judge_intent_book_card",
      "node_type": "judge",
      "extract_word": "意图",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "需要做的是判断用户目前是否填写了预约卡。"
        },
        "knowledge": null,
        "rule": {
          "rule": "根据用户的回答，分析其与之前对话的关系，判断其是否填写了预约卡，还是另外进行了提问。\n如果用户填写了预约卡，输出<意图>1</意图>\n如果用户拒绝填写预约卡，输出<意图>2</意图>\n如果用户没有回答你的问题而且提出了新的问题，例如提出了新的问题：”我近视400度可以做手术吗?“ 等输出<意图>3</意图>\n你需要格外关注上下文,Assitant和user分别说了什么"
        },
        "demonstration": null,
        "input": true,
        "tool": null,
        "output": {
          "output": "意图"
        }
      }
    },
    "node_knowledge_response": {
      "name": "node_knowledge_response",
      "node_type": "response",
      "extract_word": "回复",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "使用我们提供的内容来尽可能回答客户的问题。如果我们提供的内容无法回答客户的问题，那么请向用户道歉并说不知道。"
        },
        "rule": {
          "rule": "内容将你的回复包在<回复>...</回复>中，一定要按照这个格式输出。如果回复的内容分为几点，请你分点回答间用 \\n 隔开。例如<回复>1.第一条回复 \\n 2.第二条回复 </回复>"
        },
        "demonstration": null,
        "input": true,
        "tool": {
          "knowledge_base": "eye/eye_database.json"
        },
        "output": null
      },
      "root": true
    },
    "node_knowledge_response_2": {
      "name": "node_knowledge_response_2",
      "node_type": "response",
      "extract_word": "回复",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "使用我们提供的内容来尽可能回答客户的问题。如果我们提供的内容无法回答客户的问题，那么请向用户道歉并说不知道。"
        },
        "rule": {
          "rule": "内容将你的回复包在<回复>...</回复>中，一定要按照这个格式输出。如果回复的内容分为几点，请你分点回答间用 \\n 隔开。例如<回复>1.第一条回复 \\n 2.第二条回复 </回复>"
        },
        "demonstration": null,
        "input": true,
        "tool": {
          "knowledge_base": "eye/eye_database.json"
        },
        "output": null
      }
    },
    "node_knowledge_response_end": {
      "name": "node_knowledge_response_end",
      "node_type": "response",
      "extract_word": "回复",
      "done": true,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "使用我们提供的内容来尽可能回答客户的问题。如果我们提供的内容无法回答客户的问题，那么请向用户道歉并说不知道。"
        },
        "rule": {
          "rule": "内容将你的回复包在<回复>...</回复>中，一定要按照这个格式输出。如果回复的内容分为几点，请你分点回答间用 \\n 隔开。例如<回复>1.第一条回复 \\n 2.第二条回复 </回复>"
        },
        "demonstration": null,
        "input": true,
        "tool": {
          "knowledge_base": "eye/eye_database.json"
        },
        "output": null
      },
      "root": false
    },
    "node_knowledge_response_book_card": {
      "name": "node_knowledge_response_book_card",
      "node_type": "response",
      "extract_word": "回复",
      "done": false,
      "components": {
        "style": {
          "agent": "眼科医院的客服",
          "style": "严谨专业"
        },
        "task": {
          "task": "使用我们提供的内容来尽可能回答客户的问题。如果我们提供的内容无法回答客户的问题，那么请向用户道歉并说不知道。"
        },
        "rule": {
          "rule": "内容将你的回复包在<回复>...</回复>中，一定要按照这个格式输出。如果回复的内容分为几点，请你分点回答间用 \\n 隔开。例如<回复>1.第一条回复 \\n 2.第二条回复 </回复>"
        },
        "demonstration": null,
        "input": true,
        "tool": {
          "knowledge_base": "eye/eye_database.json"
        },
        "output": null
      },
      "root": false
    }
  },
  "tool_nodes": {
    "node_invite": {
      "tool_name": "StaticNode",
      "name": "node_invite",
      "output": "<追问>我建议你可以抽空来做一个详细的术前检查，查看下你的角膜厚度，眼底情况等等，然后让医生判断一下您的眼睛条件最适合什么样的手术方式，有什么疑惑或者顾虑也可以和医生坐下来聊一聊。</追问>",
      "done": true
    },
    "node_no_invite": {
      "tool_name": "StaticNode",
      "name": "node_no_invite",
      "output": "你还有其他关于眼科的的问题吗？",
      "done": true
    },
    "node_second_invite": {
      "tool_name": "StaticNode",
      "name": "node_second_invite",
      "output": "建议您可以到院和医院详聊哦。",
      "done": true
    },
    "node_book_card": {
      "tool_name": "StaticNode",
      "name": "node_book_card",
      "output": "<追问>请复制并填写以下资料，再发给我即可完成预约。\\n【姓名】:\\n【电话】:\\n【您所在的大概位置】:x市x区 \\n【预计到院时间】:\\n【最近一次戴隐形眼镜时期】:\\n【近视度数】：\\n 术前检查流程有散瞳环节，散瞳后会有4-6个小时回视线模糊，影响驾驶安全，所以请不要自驾来医院，并安排好检查之后的个人行程。</追问>",
      "done": true
    },
    "node_no_book_card": {
      "tool_name": "StaticNode",
      "name": "node_no_book_card",
      "output": "您是否还有其他顾虑？",
      "done": true
    },
    "node_second_book_card": {
      "tool_name": "StaticNode",
      "name": "node_no_agree_invite",
      "output": "建议您可以到院和医院详聊哦。",
      "done": true
    },
    "node_end": {
      "tool_name": "StaticNode",
      "name": "node_end",
      "output": "我会帮您预约好名额，请您合理安排好时间。届时我会在二迷眼科分诊台等您。",
      "done": true
    }
  },
  "relation": {
    "node_knowledge_response": {
      "0": "node_invite"
    },
    "node_knowledge_response_2": {
      "0": "node_invite"
    },
    "node_invite": {
      "0": "node_judge_intent_invite"
    },
    "node_judge_intent_invite": {
      "1": "node_book_card",
      "2": "node_no_invite",
      "3": "node_knowledge_response_2"
    },
    "node_no_invite": {
      "0": "node_knowledge_response"
    },
    "node_book_card": {
      "0": "node_judge_intent_book_card"
    },
    "node_judge_intent_book_card": {
      "1": "node_end",
      "2": "node_no_book_card",
      "3": "node_knowledge_response_book_card"
    },
    "node_knowledge_response_book_card": {
      "0": "node_book_card"
    },
    "node_no_book_card": {
      "0": "node_knowledge_response_book_card"
    },
    "node_end": {
      "0": "node_knowledge_response_end"
    },
    "node_knowledge_response_end": {
      "0": "node_knowledge_response_end"
    }
  }
}